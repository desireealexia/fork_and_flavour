{% extends 'base.html' %}

{% load static %}

{% block title %}{{ recipe.title }} - Fork & Flavour{% endblock %}

{% block content %}
<div class="container">
    <h1 class="text-center">{{ recipe.title }}</h1>
    <p class="text-center">Recipe by {{ recipe.user }} </p>
    <p class="description">{{ recipe.description }}</p>
    
    {% if recipe.image %}
        <img src="{{ recipe.image.url }}" alt="{{ recipe.title }}" width="300">
    {% else %}
        <img src="{% static 'images/default-recipe.jpg' %}" alt="Default Recipe Image" width="300">
    {% endif %}

    <h2>Ingredients</h2>
    <ul class="ingredient-list">
        {% for ingredient in ingredients %}
        <li><input type="checkbox">
            {% if ingredient.quantity %}
                {{ ingredient.format_quantity }} 
            {% endif %}
            {% if ingredient.unit %}
                {{ ingredient.unit }}
            {% endif %}
            {{ ingredient.ingredient.name }}
            {% if ingredient.is_optional %} (Optional) {% endif %}
        </li>
    {% empty %}
        <li>No ingredients listed.</li>
    {% endfor %}
    </ul>

    <h2>Preparation Steps</h2>
    <ol class="instructions-list">
        {{ recipe.instructions|safe  }}
    </ol>

    <div class="social-share">
        <p>Share this recipe:</p>
        <a href="https://www.facebook.com/sharer/sharer.php?u={{ request.build_absolute_uri }}" target="_blank" class="btn btn-success">Facebook</a>
        <a href="https://twitter.com/intent/tweet?url={{ request.build_absolute_uri }}&text=Check%20out%20this%20delicious%20recipe!" target="_blank" class="btn btn-success">Twitter</a>
    </div>
</div>
{% endblock %}
